(function(e){function t(t){for(var n,o,r=t[0],i=t[1],c=t[2],u=0,h=[];u<r.length;u++)o=r[u],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&h.push(a[o][0]),a[o]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);d&&d(t);while(h.length)h.shift()();return l.push.apply(l,c||[]),s()}function s(){for(var e,t=0;t<l.length;t++){for(var s=l[t],n=!0,r=1;r<s.length;r++){var i=s[r];0!==a[i]&&(n=!1)}n&&(l.splice(t--,1),e=o(o.s=s[0]))}return e}var n={},a={app:0},l=[];function o(t){if(n[t])return n[t].exports;var s=n[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=e,o.c=n,o.d=function(e,t,s){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(s,n,function(t){return e[t]}.bind(null,n));return s},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/vaccine-schedule/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],i=r.push.bind(r);r.push=t,r=r.slice();for(var c=0;c<r.length;c++)t(r[c]);var d=i;l.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"56d7":function(e,t,s){"use strict";s.r(t);s("e260"),s("e6cf"),s("cca6"),s("a79d");var n=s("2b0e"),a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-app",[s("p",{staticClass:"display-1 text-center"},[e._v("Vax Check!")]),s("v-expansion-panels",{attrs:{accordion:"",tile:""}},[s("the-date-of-birth-entry",{attrs:{"date-of-birth":e.dateOfBirth},on:{"change:date":e.updateDOB}})],1),s("v-card",[s("v-card-title",{staticClass:"my-2"},[e._v("Enter dates for received doses:")])],1),s("v-expansion-panels",{attrs:{accordion:"",tile:"",multiple:""}},e._l(this.vaccines,(function(t,n){return s("vaccine-entry",{key:t.name,attrs:{vaccine:t,"date-of-birth":e.dateOfBirth,index:n},on:{"update:variant":e.updateVariant,"update:date-received":e.updateDatesReceived}})})),1),s("v-card",[s("v-card-title",{staticClass:"my-2"},[e._v("Vaccine Schedule:")])],1),s("v-expansion-panels",{attrs:{accordion:"",tile:"",multiple:""}},e._l(this.vaccines,(function(e){return s("vaccine-panel",{key:e.name,attrs:{vaccine:e}})})),1)],1)},l=[],o=(s("4160"),s("159b"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-expansion-panel",[s("v-expansion-panel-header",[s("span",{staticClass:"title"},[e._v(" Patient Date of Birth: ")]),e._v(" "+e._s(e.dateOfBirth)+" ")]),s("v-expansion-panel-content",[s("v-text-field",{attrs:{placeholder:"Enter Date or Choose below"},on:{input:e.handleDOBChange},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}}),s("v-date-picker",{attrs:{reactive:!0,"show-current":!1,min:"2002-01-01",max:(new Date).toLocaleString("sv").substr(0,10),value:e.date},on:{change:e.handleDOBChange},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1)],1)}),r=[],i={name:"TheDateOfBirthEntry",props:{dateOfBirth:String},data:function(){return{date:(new Date).toLocaleString("sv").substr(0,10)}},methods:{handleDOBChange:function(){this.$emit("change:date",this.date)}}},c=i,d=s("2877"),u=s("6544"),h=s.n(u),v=s("2e4b"),m=s("cd55"),f=s("49e2"),p=s("c865"),b=s("8654"),O=Object(d["a"])(c,o,r,!1,null,null,null),D=O.exports;h()(O,{VDatePicker:v["a"],VExpansionPanel:m["a"],VExpansionPanelContent:f["a"],VExpansionPanelHeader:p["a"],VTextField:b["a"]});var g=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-expansion-panel",[s("v-expansion-panel-header",[s("v-row",{attrs:{"no-gutters":""}},[s("v-col",{attrs:{cols:"4"}},[e._v(e._s(e.vaccine.name))]),s("v-col",{attrs:{cols:"4"}},[this.dateList.length>0?s("span",[e._v(e._s(this.dateList.length)+" "+e._s(1===this.dateList.length?"date":"dates")+" entered")]):e._e()]),s("v-col",{attrs:{cols:"4"}},[this.variant?s("span",[e._v(e._s(this.variant.split(" ")[0]))]):e._e()])],1)],1),s("v-expansion-panel-content",[e.vaccine.variants?s("v-select",{attrs:{items:e.vaccine.variants,label:"Choose variant received"},on:{change:e.handleAddVariant},model:{value:e.variant,callback:function(t){e.variant=t},expression:"variant"}}):e._e(),s("v-text-field",{attrs:{placeholder:"Enter Date or Choose below"},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}}),s("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.handleAddDate()}}},[e._v("Add Vaccination Date")]),s("v-date-picker",{attrs:{reactive:!0,min:e.dateOfBirth,max:(new Date).toLocaleString("sv").substr(0,10)},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}}),s("v-alert",{attrs:{type:"warning",dismissible:""},model:{value:e.alert,callback:function(t){e.alert=t},expression:"alert"}},[e._v(e._s(e.message))]),s("v-list",{attrs:{dense:""}},[s("v-subheader",[e._v("Selected Dates")]),e._l(e.dateList,(function(t,n){return s("v-list-item",{key:n},[s("v-list-item-content",[s("span",[e._v(" "+e._s(t)+" "),s("v-btn",{attrs:{outlined:"",small:"",value:n},on:{click:function(t){return e.handleDeleteDate(n)}}},[e._v("Delete")])],1)])],1)}))],2)],1)],1)},j=[],I=(s("99af"),s("caad"),s("a434"),s("a9e3"),s("2532"),s("2909")),R={name:"VaccineEntry",props:{vaccine:Object,dateOfBirth:String,index:Number},data:function(){return{date:(new Date).toLocaleString("sv").substr(0,10),dateList:[],variant:null,alert:!1,message:"warning"}},methods:{handleAddDate:function(){return this.date<this.dateOfBirth?(this.message="Cannot receive vaccine before birth.",void(this.alert=!0)):this.dateList.includes(this.date)?(this.message="Vaccine aleready given on this date",void(this.alert=!0)):this.dateList.length>5?(this.message="That's probably too many vaccinations.",void(this.alert=!0)):(this.alert=!1,this.dateList=[].concat(Object(I["a"])(this.dateList),[this.date]).sort(),void this.$emit("update:date-received",this.dateList,this.index))},handleAddVariant:function(){this.$emit("update:variant",this.variant,this.index)},handleDeleteDate:function(e){this.dateList.splice(e,1),this.$emit("update:date-received",this.dateList,this.index)}}},y=R,x=s("0798"),P=s("8336"),w=s("62ad"),_=s("8860"),E=s("da13"),q=s("5d23"),k=s("0fd9"),S=s("b974"),V=s("e0c7"),T=Object(d["a"])(y,g,j,!1,null,null,null),L=T.exports;h()(T,{VAlert:x["a"],VBtn:P["a"],VCol:w["a"],VDatePicker:v["a"],VExpansionPanel:m["a"],VExpansionPanelContent:f["a"],VExpansionPanelHeader:p["a"],VList:_["a"],VListItem:E["a"],VListItemContent:q["a"],VRow:k["a"],VSelect:S["a"],VSubheader:V["a"],VTextField:b["a"]});var B=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-expansion-panel",[s("v-expansion-panel-header",[e._v(e._s(e.vaccine.name))]),s("v-expansion-panel-content",[e._v(" Notes: "+e._s(e.vaccine.notes)+" "),s("v-expansion-panels",{attrs:{accordion:"",tile:"",multiple:""}},e._l(e.vaccine.schedule,(function(e,t){return s("dose-panel",{key:t,attrs:{dose:e,index:t}})})),1)],1)],1)},C=[],A=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-expansion-panel",[s("v-expansion-panel-header",[s("v-row",{attrs:{"no-gutters":""}},[s("v-col",{attrs:{cols:"2"}},[e._v("Dose #"+e._s(this.index+1)+":")]),s("v-col",{attrs:{cols:"5"}},[e._v("Earliest: "+e._s(this.dose.earliestPossibleDate?this.dose.earliestPossibleDate:null))]),s("v-col",{attrs:{cols:"5"}},[e._v("Latest: "+e._s(this.dose.latestRecommendedDate?this.dose.latestRecommendedDate:null))])],1)],1),s("v-expansion-panel-content",[s("p",{staticClass:"mb-1"},[e._v("Date Given: "+e._s(this.dose.date?this.dose.date:"Dose not given"))]),this.dose.received?s("p",{staticClass:"mb-1"},[e._v("Time since last dose: "+e._s(this.dose.intervalSinceLastDose.months)+" months, "+e._s(this.dose.intervalSinceLastDose.weeks)+" weeks, "+e._s(this.dose.intervalSinceLastDose.days)+" days ago.")]):e._e(),this.dose.received?s("p",{staticClass:"mb-1"},[e._v("Age received: "+e._s(this.dose.ageReceived.months)+" months, "+e._s(this.dose.ageReceived.weeks)+" weeks, "+e._s(this.dose.ageReceived.days)+" days")]):e._e(),this.dose.minInterval?s("p",{staticClass:"mb-1"},[e._v("Minimum interval from last dose: "+e._s(this.dose.minInterval.months)+" months, "+e._s(this.dose.minInterval.weeks)+" weeks, "+e._s(this.dose.minInterval.days)+" days")]):e._e(),s("p",{staticClass:"mb-1"},[e._v("Required?: "+e._s(this.dose.required?"Yes":"No"))]),s("p",{staticClass:"mb-1"},[e._v("Notes: "+e._s(this.dose.notes))])])],1)},H=[],M={name:"DosePanel",props:{dose:Object,index:Number}},N=M,$=Object(d["a"])(N,A,H,!1,null,null,null),F=$.exports;h()($,{VCol:w["a"],VExpansionPanel:m["a"],VExpansionPanelContent:f["a"],VExpansionPanelHeader:p["a"],VRow:k["a"]});var U={name:"VaccinePanel",components:{DosePanel:F},props:{vaccine:Object}},J=U,G=s("0393"),Y=Object(d["a"])(J,B,C,!1,null,null,null),z=Y.exports;h()(Y,{VExpansionPanel:m["a"],VExpansionPanelContent:f["a"],VExpansionPanelHeader:p["a"],VExpansionPanels:G["a"]});s("d81d"),s("b0c0");var K=s("1315"),Q=K.DateTime,W=K.Duration,X=Q.local();function Z(e,t){var s=Q.fromISO(t),n=e.datesReceived,a=X.diff(s,["months","weeks","days"]);switch(e.schedule=n.map((function(e,t,n){var a=Q.fromISO(e).diff(s,["months","weeks","days"]);return{date:e,latestRecommendedDate:null,earliestPossibleDate:null,received:!0,ageReceived:a,intervalSinceLastDose:0===t?a:Q.fromISO(e).diff(Q.fromISO(n[t-1]),["months","weeks","days"]),minInterval:null,late:!1,early:!1,required:!0,notes:""}})),e.name){case"HiB":e=ee(e,a,s);break;case"HepA":e=te(e,a,s);break;case"HepB":e=se(e,a,s);break;case"IPV":e=ne(e,a,s);break;case"Rotavirus":e=ae(e,a,s);break;case"DTAP":e=le(e,a,s);break;case"Varicella":e=oe(e,a,s);break;case"MMR":e=re(e,a,s);break;case"PCV13":e=ie(e,a,s);break}return e.schedule.forEach((function(e){e.received&&e.required&&(e.intervalSinceLastDose.valueOf()<e.minInterval.valueOf()||Q.fromISO(e.date)<e.earliestPossibleDate)&&(e.notes=0===e.notes.length?"This dose is early.":e.notes.concat(" This dose is early."),e.early=!0)})),e.schedule.forEach((function(e){(e.required&&e.received&&Q.fromISO(e.date)>e.latestRecommendedDate||!e.received&&Q.local()>e.latestRecommendedDate)&&(e.notes=0===e.notes.length?"This dose is late.":e.notes.concat(" This dose is late."),e.late=!0)})),e.schedule.forEach((function(t,s,n){if(!t.received&&t.late&&(0===s||n[s-1].received)&&t.required){t.latestRecommendedDate=Q.local(),t.notes=0===t.notes.length?"This dose is late, recommend adminstering today.":t.notes.concat(" This dose is late, recommend adminstering today.");for(var a=s+1;a<n.length;a++)e.schedule[a].required&&(e.schedule[a].earliestPossibleDate=e.schedule[a-1].latestRecommendedDate.plus(e.schedule[a].minInterval),e.schedule[a].latestRecommendedDate=e.schedule[a].earliestPossibleDate,e.schedule[a].notes=0===e.schedule[a].notes.length?"This dose succeeds a late dose; earliest possible date adjusted.":e.schedule[a].notes.concat(" This dose succeeds a late dose; earliest possible date adjusted."))}})),e.schedule.forEach((function(e){e.latestRecommendedDate&&(e.latestRecommendedDate=e.latestRecommendedDate.toISODate()),e.earliestPossibleDate&&(e.earliestPossibleDate=e.earliestPossibleDate.toISODate()),e.received&&(e.intervalSinceLastDose=e.intervalSinceLastDose.toObject(),e.ageReceived=e.ageReceived.toObject()),e.minInterval&&(e.minInterval=e.minInterval.toObject())})),e}function ee(e,t,s){var n="PRP-OMP (Pedvax)"===e.variant,a=n?[s.plus({months:2}),s.plus({months:4}),s.plus({months:15})]:[s.plus({months:2}),s.plus({months:4}),s.plus({months:6}),s.plus({months:15})];while(e.schedule.length<4&&n||e.schedule.length<4&&!n){var l={date:null,latestRecommendedDate:null,earliestPossibleDate:null,received:!1,ageReceived:null,intervalSinceLastDose:null,minInterval:null,late:!1,early:!1,required:!0,notes:""};e.schedule=[].concat(Object(I["a"])(e.schedule),[l])}return e.schedule.length>3&&n?(e.notes="Too many doses (3 dose series for HiB with PRP-OMP (PedVax)).",e.schedule.forEach((function(e,t){t>1&&(e.notes="This is an extra dose! It is not required.",e.required=!1)}))):e.schedule.length>4&&!n&&(e.notes="Too many doses (4 dose series for HiB with PRP-T (ActHIB, Hiberex, Pentacel) or Unknown/Mixed).",e.schedule.forEach((function(e,t){t>1&&(e.notes="This is an extra dose! It is not required.",e.required=!1)}))),e.schedule[0].minInterval=W.fromObject({months:1,weeks:2}),!e.schedule[0].received||e.schedule[0].ageReceived.valueOf()<W.fromObject({years:1})?e.schedule[1].minInterval=W.fromObject({months:1}):e.schedule[0].ageReceived.valueOf()>=W.fromObject({years:1})&&e.schedule[0].ageReceived.valueOf()<W.fromObject({years:1,months:3})?(e.schedule[1].minInterval=W.fromObject({months:2}),e.schedule.forEach((function(e,t){t>1&&(e.required=!1,e.notes="This dose is not required, Dose 1 received between 12 and 15 months of age. Only a second dose is required.")})),e.notes="Only two doses will be required."):e.schedule[1].minInterval=W.fromObject({months:2}),t.valueOf()<W.fromObject({months:12})&&e.schedule[0].received&&e.schedule[0].ageReceived.valueOf()<W.fromObject({months:7})&&!n?e.schedule[2].minInterval=W.fromObject({months:1}):e.schedule[0].received&&e.schedule[1].received&&(t.valueOf()<W.fromObject({months:12})&&e.schedule[0].ageReceived.valueOf()>=W.fromObject({months:7})&&e.schedule[0].ageReceived.valueOf()<W.fromObject({months:12})||t.valueOf()>=W.fromObject({months:12})&&t.valueOf()<W.fromObject({months:60})&&e.schedule[0].ageReceived.valueOf()<W.fromObject({months:12})&&e.schedule[1].ageReceived.valueOf()<W.fromObject({months:15})||n&&e.schedule[0].ageReceived.valueOf()<W.fromObject({months:12})&&e.schedule[1].ageReceived.valueOf()<W.fromObject({months:12}))?(e.schedule[2].minInterval=W.fromObject({months:2}),e.schedule.forEach((function(e,t){t>2&&(e.required=!1,e.notes="This dose is not required, HiB dose 2 to dose 3 guidelines.")}))):e.schedule[2].minInterval=W.fromObject({months:2}),e.schedule[0].received&&e.schedule[1].received&&e.schedule[2].received&&t.valueOf()>=W.fromObject({months:12})&&t.valueOf()<W.fromObject({months:60})&&e.schedule[0].ageReceived.valueOf()<W.fromObject({months:12})&&e.schedule[1].ageReceived.valueOf()<W.fromObject({months:12})&&e.schedule[2].ageReceived.valueOf()<W.fromObject({months:12})?(e.schedule[3].minInterval=W.fromObject({months:2}),e.schedule[3].notes="Dose 4 should be given if child received 3 doses before their first birthday."):e.schedule[3].minInterval=W.fromObject({months:2}),a.forEach((function(t,s){e.schedule[s].latestRecommendedDate=t})),e.schedule.forEach((function(t,n){t.earliestPossibleDate=0===n?s.plus(t.minInterval):e.schedule[n-1].received?Q.fromISO(e.schedule[n-1].date).plus(t.minInterval):e.schedule[n-1].latestRecommendedDate.plus(t.minInterval)})),e.schedule[1].received&&(e.schedule[0].ageReceived.valueOf()>=W.fromObject({months:15})||e.schedule[1].ageReceived.valueOf()>=W.fromObject({months:15}))&&e.schedule.forEach((function(e){e.received||(e.required=!1,e.notes="No further vaccination is required. Patient received dose 1 or 2 at or later than 15 months.")})),t.valueOf()>=W.fromObject({months:60})&&!e.schedule[0].received&&(e.notes="Too late for series, do not start. No further vaccination is required.",e.schedule.forEach((function(e){e.required=!1,e.notes="No vaccination required, too late to start series."}))),e}function te(e,t,s){var n=[s.plus({months:12}),s.plus({months:18})];while(e.schedule.length<2){var a={date:null,latestRecommendedDate:null,earliestPossibleDate:null,received:!1,ageReceived:null,intervalSinceLastDose:null,minInterval:null,late:!1,early:!1,required:!0,notes:""};e.schedule=[].concat(Object(I["a"])(e.schedule),[a])}return e.schedule.length>2&&(e.notes="Too many doses (2 dose series for Hepatitis A)",e.schedule.forEach((function(e,t){t>1&&(e.notes="This is an extra dose! It is not required.",e.required=!1)}))),e.schedule[0].minInterval=W.fromObject({months:12}),e.schedule[1].minInterval=W.fromObject({months:6}),n.forEach((function(t,s){e.schedule[s].latestRecommendedDate=t})),e.schedule.forEach((function(t,n){t.earliestPossibleDate=0===n?s.plus(t.minInterval):e.schedule[n-1].received?Q.fromISO(e.schedule[n-1].date).plus(t.minInterval):e.schedule[n-1].latestRecommendedDate.plus(t.minInterval)})),e}function se(e,t,s){var n=[s,s.plus({months:2}),s.plus({months:18})];while(e.schedule.length<3){var a={date:null,latestRecommendedDate:null,earliestPossibleDate:null,received:!1,ageReceived:null,intervalSinceLastDose:null,minInterval:null,late:!1,early:!1,required:!0,notes:""};e.schedule=[].concat(Object(I["a"])(e.schedule),[a])}return e.schedule.length>3&&(e.notes="Too many doses (3 dose series for Hepatitis B)",e.schedule.forEach((function(e,t){t>1&&(e.notes="This is an extra dose! It is not required. 4 Doses are permissible in mixed vaccines.",e.required=!1)}))),e.schedule[0].minInterval=W.fromObject({months:0}),e.schedule[1].minInterval=W.fromObject({months:1}),e.schedule[2].minInterval=W.fromObject({months:2}),n.forEach((function(t,s){e.schedule[s].latestRecommendedDate=t})),e.schedule.forEach((function(t,n){t.earliestPossibleDate=0===n?s.plus(t.minInterval):e.schedule[n-1].received?Q.fromISO(e.schedule[n-1].date).plus(t.minInterval):e.schedule[n-1].latestRecommendedDate.plus(t.minInterval)})),e.schedule[2].received&&e.schedule[2].ageReceived.valueOf()<W.fromObject({weeks:24}).valueOf()?(e.schedule[2].early=!0,e.schedule[2].notes="Dose 3 too early (should not be administered before 24 weeks of age).",e.notes="Dose 3 is too early."):e.schedule[2].received&&Q.fromISO(e.schedule[2].date).diff(Q.fromISO(e.schedule[0].date)).valueOf()<W.fromObject({weeks:16}).valueOf()&&(e.schedule[2].early=!0,e.schedule[2].notes="Dose 3 too close to Dose 1 (needs at least 16 week interval).",e.notes="Dose 3 is too close to Dose 1."),e}function ne(e,t,s){var n=[s.plus({months:2}),s.plus({months:4}),s.plus({months:18}),s.plus({months:72})];while(e.schedule.length<4){var a={date:null,latestRecommendedDate:null,earliestPossibleDate:null,received:!1,ageReceived:null,intervalSinceLastDose:null,minInterval:null,late:!1,early:!1,required:!0,notes:""};e.schedule=[].concat(Object(I["a"])(e.schedule),[a])}return e.schedule.length>4&&(e.notes="Too many doses (4 dose series for IPV)",e.schedule.forEach((function(e,t){t>1&&(e.notes="This is an extra dose! It is not required.",e.required=!1)}))),e.schedule[0].minInterval=W.fromObject({months:1,weeks:2}),e.schedule[1].minInterval=W.fromObject({months:1}),e.schedule[2].minInterval=t.valueOf()<W.fromObject({years:4})?W.fromObject({months:1}):W.fromObject({months:6}),e.schedule[3].minInterval=W.fromObject({months:6}),n.forEach((function(t,s){e.schedule[s].latestRecommendedDate=t})),e.schedule.forEach((function(t,n){t.earliestPossibleDate=0===n?s.plus(t.minInterval):e.schedule[n-1].received?Q.fromISO(e.schedule[n-1].date).plus(t.minInterval):e.schedule[n-1].latestRecommendedDate.plus(t.minInterval)})),e.schedule[3].received&&e.schedule[3].ageReceived.valueOf()<W.fromObject({years:4})&&(e.schedule[3].early=!0,e.schedule[3].notes="Dose 4 too early, should not be administered before 4 years of age."),t.valueOf()>=W.fromObject({years:4})&&!e.schedule[2].received&&(e.schedule[2].notes="Dose 3 will be the final dose needed, since patient is over 4 years of age.",e.schedule[3].required=!1,e.schedule[3].notes="Dose 4 is not required since patient will receive dose 3 after 4 years of age."),e}function ae(e,t,s){var n="Rotarix"===e.variant,a=n?[s.plus({months:2}),s.plus({months:4})]:[s.plus({months:2}),s.plus({months:4}),s.plus({months:6})];while(e.schedule.length<2&&n||e.schedule.length<3&&!n){var l={date:null,latestRecommendedDate:null,earliestPossibleDate:null,received:!1,ageReceived:null,intervalSinceLastDose:null,minInterval:null,late:!1,early:!1,required:!0,notes:""};e.schedule=[].concat(Object(I["a"])(e.schedule),[l])}return e.schedule.length>2&&n?(e.notes="Too many doses (2 dose series for Rotavirus with Rotarix).",e.schedule.forEach((function(e,t){t>1&&(e.notes="This is an extra dose! It is not required.",e.required=!1)}))):e.schedule.length>3&&!n&&(e.notes="Too many doses (3 dose series for Rotavirus with Rotateq or Unknown/Mixed).",e.schedule.forEach((function(e,t){t>1&&(e.notes="This is an extra dose! It is not required.",e.required=!1)}))),e.schedule[0].minInterval=W.fromObject({months:1,weeks:2}),e.schedule[1].minInterval=W.fromObject({months:1}),n||(e.schedule[2].minInterval=W.fromObject({months:1})),a.forEach((function(t,s){e.schedule[s].latestRecommendedDate=t})),e.schedule.forEach((function(t,n){t.earliestPossibleDate=0===n?s.plus(t.minInterval):e.schedule[n-1].received?Q.fromISO(e.schedule[n-1].date).plus(t.minInterval):e.schedule[n-1].latestRecommendedDate.plus(t.minInterval)})),t.valueOf()>W.fromObject({weeks:15})&&!e.schedule[0].received&&(e.schedule.forEach((function(e){e.notes="No further vaccination is needed.",e.required=!1})),e.notes="Patient is older than 15 weeks, do not start vaccine series, none needed."),t.valueOf()>W.fromObject({months:8})&&e.schedule[0].received&&(e.schedule.forEach((function(e){e.notes="No further vaccination is needed.",e.required=!1})),e.notes="Patient is older than 8 weeks, no further vaccination needed."),e}function le(e,t,s){var n=[s.plus({months:2}),s.plus({months:4}),s.plus({months:6}),s.plus({months:18}),s.plus({months:72})];while(e.schedule.length<5){var a={date:null,latestRecommendedDate:null,earliestPossibleDate:null,received:!1,ageReceived:null,intervalSinceLastDose:null,minInterval:null,late:!1,early:!1,required:!0,notes:""};e.schedule=[].concat(Object(I["a"])(e.schedule),[a])}return e.schedule.length>5&&(e.notes="Too many doses (5 dose series for DTAP)",e.schedule.forEach((function(e,t){t>1&&(e.notes="This is an extra dose! It is not required.",e.required=!1)}))),e.schedule[0].minInterval=W.fromObject({months:1,weeks:2}),e.schedule[1].minInterval=W.fromObject({months:1}),e.schedule[2].minInterval=W.fromObject({months:1}),e.schedule[3].minInterval=W.fromObject({months:6}),e.schedule[4].minInterval=W.fromObject({months:6}),n.forEach((function(t,s){e.schedule[s].latestRecommendedDate=t})),e.schedule.forEach((function(t,n){t.earliestPossibleDate=0===n?s.plus(t.minInterval):e.schedule[n-1].received?Q.fromISO(e.schedule[n-1].date).plus(t.minInterval):e.schedule[n-1].latestRecommendedDate.plus(t.minInterval)})),e.schedule[3].received&&e.schedule[3].intervalSinceLastDose.valueOf()>=W.fromObject({months:6}).valueOf()&&e.schedule[3].ageReceived.valueOf()>=W.fromObject({years:4}).valueOf()&&(e.schedule[3].notes="Dose 4 received later than 4 years of age and longer than 6 months since Dose 3: dose 5 not needed.",e.schedule[4].required=!1,e.schedule[4].notes="Dose 5 no longer required since dose 4 was received later than 4 years of age.",e.notes="Dose 5 not required."),e}function oe(e,t,s){var n=[s.plus({months:15}),s.plus({months:72})];while(e.schedule.length<2){var a={date:null,latestRecommendedDate:null,earliestPossibleDate:null,received:!1,ageReceived:null,intervalSinceLastDose:null,minInterval:null,late:!1,early:!1,required:!0,notes:""};e.schedule=[].concat(Object(I["a"])(e.schedule),[a])}return e.schedule.length>2&&(e.notes="Too many doses (2 dose series for Varicella)",e.schedule.forEach((function(e,t){t>1&&(e.notes="This is an extra dose! It is not required.",e.required=!1)}))),e.schedule[0].minInterval=W.fromObject({months:12}),e.schedule[1].minInterval=W.fromObject({months:3}),n.forEach((function(t,s){e.schedule[s].latestRecommendedDate=t})),e.schedule.forEach((function(t,n){t.earliestPossibleDate=0===n?s.plus(t.minInterval):e.schedule[n-1].received?Q.fromISO(e.schedule[n-1].date).plus(t.minInterval):e.schedule[n-1].latestRecommendedDate.plus(t.minInterval)})),e.schedule[1].received&&e.schedule[1].intervalSinceLastDose.valueOf()<W.fromObject({weeks:4}).valueOf()?(e.schedule[1].early=!0,e.schedule[1].notes="Dose 2 given too close to Dose 1."):e.schedule[1].received&&e.schedule[1].intervalSinceLastDose.valueOf()>=W.fromObject({weeks:4}).valueOf()&&e.schedule[1].intervalSinceLastDose.valueOf()<W.fromObject({months:3}).valueOf()&&(e.schedule[1].early=!0,e.schedule[1].notes="Dose 2 may be counted even if early."),e}function re(e,t,s){var n=[s.plus({months:15}),s.plus({months:72})];while(e.schedule.length<2){var a={date:null,latestRecommendedDate:null,earliestPossibleDate:null,received:!1,ageReceived:null,intervalSinceLastDose:null,minInterval:null,late:!1,early:!1,required:!0,notes:""};e.schedule=[].concat(Object(I["a"])(e.schedule),[a])}return e.schedule.length>2&&(e.notes="Too many doses (2 dose series for MMR)",e.schedule.forEach((function(e,t){t>1&&(e.notes="This is an extra dose! It is not required.",e.required=!1)}))),e.schedule[0].minInterval=W.fromObject({months:12}),e.schedule[1].minInterval=W.fromObject({months:1}),n.forEach((function(t,s){e.schedule[s].latestRecommendedDate=t})),e.schedule.forEach((function(t,n){t.earliestPossibleDate=0===n?s.plus(t.minInterval):e.schedule[n-1].received?Q.fromISO(e.schedule[n-1].date).plus(t.minInterval):e.schedule[n-1].latestRecommendedDate.plus(t.minInterval)})),e}function ie(e,t,s){var n=[s.plus({months:2}),s.plus({months:4}),s.plus({months:6}),s.plus({months:15})];while(e.schedule.length<4){var a={date:null,latestRecommendedDate:null,earliestPossibleDate:null,received:!1,ageReceived:null,intervalSinceLastDose:null,minInterval:null,late:!1,early:!1,required:!0,notes:""};e.schedule=[].concat(Object(I["a"])(e.schedule),[a])}return e.schedule.length>4&&(e.notes="Too many doses (4 dose series for PCV13)",e.schedule.forEach((function(e,t){t>1&&(e.notes="This is an extra dose! It is not required.",e.required=!1)}))),e.schedule[0].minInterval=W.fromObject({months:1,weeks:2}),e.schedule[1].minInterval=W.fromObject({months:2}),e.schedule[2].minInterval=W.fromObject({months:2}),e.schedule[3].minInterval=W.fromObject({months:2}),e.schedule[0].received&&e.schedule[0].ageReceived.valueOf()<W.fromObject({months:12})?e.schedule[1].minInterval=W.fromObject({months:1}):e.schedule[0].received&&e.schedule[0].ageReceived.valueOf()>=W.fromObject({months:12})&&e.schedule.forEach((function(e,t){t>2&&(e.required=!1,e.notes="First dose received after first birthday, no further doses required.")})),e.schedule[1].received&&t.valueOf()<W.fromObject({months:12})&&e.schedule[1].ageReceived.valueOf()<W.fromObject({months:7})?e.schedule[2].minInterval=W.fromObject({months:1}):e.schedule[1].received&&e.schedule[1].ageReceived.valueOf()>=W.fromObject({months:7})&&e.schedule[1].ageReceived.valueOf()<W.fromObject({months:12})&&(e.schedule[2].minInterval=W.fromObject({months:12}).valueOf()-t.valueOf()<=W.fromObject({months:2}).valueOf()?W.fromObject({months:2}):W.fromMillis(W.fromObject({months:12}).valueOf()-t.valueOf())),t.valueOf()>=(W.fromObject({months:12})&&e.schedule[0].received&&e.schedule[0].ageReceived.valueOf()<W.fromObject({months:12})||e.schedule[1].received&&e.schedule[1].ageReceived.valueOf()<W.fromObject({months:12}))&&(e.schedule[1].minInterval=W.fromObject({months:2}),e.schedule[2].minInterval=W.fromObject({months:2})),n.forEach((function(t,s){e.schedule[s].latestRecommendedDate=t})),e.schedule.forEach((function(t,n){t.earliestPossibleDate=0===n?s.plus(t.minInterval):e.schedule[n-1].received?Q.fromISO(e.schedule[n-1].date).plus(t.minInterval):e.schedule[n-1].latestRecommendedDate.plus(t.minInterval)})),(e.schedule[0].received&&e.schedule[0].ageReceived>=W.fromObject({months:24})||e.schedule[1].received&&e.schedule[1].ageReceived>=W.fromObject({months:24}))&&(e.notes="First or second dose received after 2 years of age. No further doses required.",e.schedule.forEach((function(e){e.received||(e.required=!1,e.notes="Dose not required (Dose 1 or Dose 2 received after 2 years of age)")}))),t.valueOf()>W.fromObject({months:60})&&(e.notes="Patient over 5 years old; no further doses required.",e.schedule.forEach((function(e){e.received||(e.required=!1,e.notes="Dose not required (patient over 5 years old).")}))),e}var ce=Z,de={name:"App",components:{TheDateOfBirthEntry:D,VaccineEntry:L,VaccinePanel:z},data:function(){return{dateOfBirth:(new Date).toLocaleString("sv").substr(0,10),vaccines:[{name:"HiB",variants:["PRP-OMP (Pedvax)","PRP-T (ActHIB, Hiberex, Pentacel)","Both/Unknown"],variant:null,datesReceived:[],schedule:[],notes:""},{name:"HepA",variants:null,variant:null,datesReceived:[],schedule:[],notes:""},{name:"HepB",variants:null,variant:null,datesReceived:[],schedule:[],notes:""},{name:"IPV",variants:null,variant:null,datesReceived:[],schedule:[],notes:""},{name:"Rotavirus",variants:["Rotateq","Rotarix","Both/Unknown"],variant:null,datesReceived:[],schedule:[],notes:""},{name:"DTAP",variants:null,variant:null,datesReceived:[],schedule:[],notes:""},{name:"Varicella",variants:null,variant:null,datesReceived:[],schedule:[],notes:""},{name:"MMR",variants:null,variant:null,datesReceived:[],schedule:[],notes:""},{name:"PCV13",variants:null,variant:null,datesReceived:[],schedule:[],notes:""}]}},methods:{updateDOB:function(e){var t=this;this.dateOfBirth=e,this.vaccines.forEach((function(e){ce(e,t.dateOfBirth)}))},updateVariant:function(e,t){this.vaccines[t].variant=e,this.vaccines[t]=ce(this.vaccines[t],this.dateOfBirth)},updateDatesReceived:function(e,t){this.vaccines[t].datesReceived=e,this.vaccines[t]=ce(this.vaccines[t],this.dateOfBirth)}}},ue=de,he=s("7496"),ve=s("b0af"),me=s("99d9"),fe=Object(d["a"])(ue,a,l,!1,null,null,null),pe=fe.exports;h()(fe,{VApp:he["a"],VCard:ve["a"],VCardTitle:me["a"],VExpansionPanels:G["a"]});var be=s("f309");n["a"].use(be["a"]);var Oe=new be["a"]({icons:{iconfont:"mdi"}}),De=s("9483");Object(De["a"])("".concat("/vaccine-schedule/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}}),n["a"].config.productionTip=!1,new n["a"]({vuetify:Oe,render:function(e){return e(pe)}}).$mount("#app")}});
//# sourceMappingURL=app.5f96e5b6.js.map